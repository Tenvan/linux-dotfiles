---
# install themes
- name: install some gtk themes
  block:
    - name: Clone Valyrian repository
      git:
        repo: 'https://github.com/rtlewis1/GTK.git'
        single_branch: true
        clone: yes
        version: VALYRIAN
        dest: "{{ build_dir }}/themes/Valyrian"

    - name: Synchronization Valyrian themes
      ansible.posix.synchronize:
        src: "{{ build_dir }}/themes/Valyrian/"
        dest: "{{ themes_dir }}/"
        owner: true
        rsync_opts:
          - "--chown={{ user_id }}:{{ user_id }}"
          - "--exclude=.git"
          - "--exclude=README.md"
          - "--exclude=VALYRIAN.conf"
          - "--include=VALYRIAN*/*"

    - name: Clone Catppuccin repository
      git:
        repo: 'https://github.com/Fausto-Korpsvart/Catppuccin-GTK-Theme.git'
        single_branch: true
        clone: yes
        dest: "{{ build_dir }}/themes/Catppuccin"

    - name: Synchronization Catppuccin themes
      ansible.posix.synchronize:
        src: "{{ build_dir }}/themes/Catppuccin/themes/"
        dest: "{{ themes_dir }}/"
        owner: true
        rsync_opts:
          - "--chown={{ user_id }}:{{ user_id }}"
          - "--exclude=.git"
          - "--exclude=README.md"
          - "--exclude=VALYRIAN.conf"
          - "--include=VALYRIAN*/*"

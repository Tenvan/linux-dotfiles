---
- hosts: localhost
  connection: local
  name: "==========> Install Tenvans Dotfiles with AwesomeWm Desktop <=========="
  become: true

  vars:
    is_dry: true

    is_arch_based: false
    is_arch: false
    is_arcolinux: false
    is_manjaro: false

    is_rhel_based: false
    is_rhel: false
    is_fedora: false
    is_centos: false

    is_debian_based: false
    is_debian: false
    is_ubuntu: false

  tasks:
    - name: "=====> Initiate <====="
      ansible.builtin.include_tasks: lib/inits.yml

    - name: Write xinit-system file
      ansible.builtin.copy:
        dest: /etc/X11/xinit/xinitrc.d/user-xinitrc.sh
        mode: u+rwx,g+rx,o+rx
        content: |
          #!/usr/bin/sh
          export DOT="$DOT;user-xinitrc"
          
          if [ -f $HOME/.xinitrc ]; then
          	export DOT="$DOT;ui1"
          	. $HOME/.xinitrc
          fi
   
